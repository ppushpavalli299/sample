CREATE PROCEDURE "ADD_EMPLOYEE" (
    IN EMPLOYEE_DATA NCLOB,
    OUT RESULT_MESSAGE NVARCHAR(500)
)
AS
BEGIN
    DECLARE NAME NVARCHAR(100);
    DECLARE DESIGNATION NVARCHAR(100);
    DECLARE STATUS INTEGER;

    -- Parse JSON input
    SELECT JSON_VALUE(:EMPLOYEE_DATA, '$.name') INTO NAME FROM DUMMY;
    SELECT JSON_VALUE(:EMPLOYEE_DATA, '$.designation') INTO DESIGNATION FROM DUMMY;
    SELECT JSON_VALUE(:EMPLOYEE_DATA, '$.status') INTO STATUS FROM DUMMY;

    -- Insert record
    IF (NAME IS NOT NULL AND DESIGNATION IS NOT NULL AND STATUS IS NOT NULL) THEN
        INSERT INTO "EMPLOYEE" ("NAME", "DESIGNATION", "STATUS")
        VALUES (:NAME, :DESIGNATION, :STATUS);
        
        RESULT_MESSAGE := 'Employee created successfully';
    ELSE
        RESULT_MESSAGE := 'Invalid input: Name, Designation, and Status are required.';
    END IF;
END