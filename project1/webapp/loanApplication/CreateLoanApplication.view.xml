<mvc:View controllerName="project1.loanapplication.CreateLoanApplication"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:m="sap.m"
    xmlns:f="sap.f"
    xmlns:core="sap.ui.core"
    xmlns:form="sap.ui.layout.form"
    xmlns:uxap="sap.uxap"
    xmlns:tnt="sap.tnt"
    xmlns:smartForm="sap.ui.comp.smartform"
    xmlns:smartField="sap.ui.comp.smartfield"
    xmlns:card="sap.f.cards"
    xmlns:table="sap.ui.table"
    xmlns:u="sap.ui.unified"
    xmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
    xmlns:html="http://www.w3.org/1999/xhtml"
    xmlns:l="sap.ui.layout"
    xmlns:field="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1">

    <f:DynamicPage id="pgGeneralExpense" headerExpanded="false" showFooter="{=!!${errors>/}.length}" fitContent="true">

        <f:title>
            <f:DynamicPageTitle>
                <f:heading>
                    <m:Title text="Create Loan Application"/>
                </f:heading>
                <f:actions>
                    <m:Button id="btnSave" type="Emphasized" text="Save" press="onPressSave" class="sapUiTinyMarginBegin"/>
                    <m:Button id="btnClose" type="Transparent" text="Close" class="sapUiTinyMarginBegin" press="handleClose"/>
                </f:actions>
            </f:DynamicPageTitle>
        </f:title>

        <f:content>
            <m:Panel backgroundDesign="Transparent">
                <form:SimpleForm id="sfCreateLoanApplication" editable="true" layout="ColumnLayout" labelSpanXL="4" labelSpanL="4" labelSpanM="12" labelSpanS="12" adjustLabelSpan="false" columnsXL="3" columnsL="3" columnsM="2">

                    <!-- Payroll Period -->
                    <m:Label text="Payroll Period" />
                    <m:Input id="inp_PayrollPeriod" value="{loanApplicationMdl>/payroll_period}" valueHelpOnly="true" showValueHelp="true" placeholder="Select Payroll Period" valueHelpRequest="valueHelpDialogPayrollPeriod" editable="{= ${loanApplicationMdl>/isEditable} }"/>

                    <!-- Date -->
                    <m:Label text="Date" />
                    <m:DatePicker id="eventDate" placeholder="{i18n>organization_Pleaseselectdate}" change="onChangeEventDate" value="{loanApplicationMdl>/date}" valueFormat="dd-MM-yyyy" displayFormat="{= ${settings>/userSettings/dateFormatKey} === 1 ? 'dd-MM-yyyy' : 'dd-MMM-yyyy' }" editable="{= ${loanApplicationMdl>/isEditable} }"/>

                    <!-- Currency -->
                    <m:Label text="Currency"/>
                    <m:Input value="{loanApplicationMdl>/currency}" placeholder="Enter currency" editable="{= ${loanApplicationMdl>/isEditable} }"/>

                    <!-- Disbursal Method -->
                    <m:Label text="Disbursal Method"/>
                    <m:Input value="{loanApplicationMdl>/disbursal_method}" placeholder="Enter disbursal method" editable="{= ${loanApplicationMdl>/isEditable} }"/>

                    <!-- Status -->
                    <m:Label text="Status" />
                    <m:ComboBox items="{masterdataMdl>/status}" placeholder="{i18n>lod_PleaseSelectStatus}" editable="{= ${loanApplicationMdl>/isEditable} }" selectedKey="{loanApplicationMdl>/status}">
                        <core:Item key="{masterdataMdl>key}" text="{masterdataMdl>text}"/>
                    </m:ComboBox>

                    <!-- Remarks -->
                    <m:Label text="Remarks"/>
                    <m:Input value="{loanApplicationMdl>/remarks}" placeholder="Enter remarks" editable="{= ${loanApplicationMdl>/isEditable} }"/>

                </form:SimpleForm>
            </m:Panel>
        </f:content>

        <f:footer>
            <m:Toolbar>
                <m:Button id="btn_GeneralExpenseError" class="sapUiTinyMarginTop" visible="{=!!${errors>/}.length}" icon="sap-icon://error" type="Negative" text="{i18n>organization_error}" press="handleMessagePopoverPress" ariaHasPopup="Dialog"/>
            </m:Toolbar>
        </f:footer>
    </f:DynamicPage>

</mvc:View>
