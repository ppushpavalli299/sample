<mvc:View controllerName="project1.teamlettersandcertificates.TeamLettersAndCertificates"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:f="sap.f"
    xmlns:core="sap.ui.core"
    xmlns:fb="sap.ui.comp.filterbar">

    <f:DynamicPage id="page_manageTeamLettersAndCertificates" fitContent="true" headerExpanded="true">
        <f:title>
            <f:DynamicPageTitle>
                <f:heading>
                    <Title id="titleId" text=" Team Letters and Certificates" />
                </f:heading>
            </f:DynamicPageTitle>
        </f:title>

        <f:header>
            <f:DynamicPageHeader pinnable="true">
                <fb:FilterBar id="loanapplication" persistencyKey="myPersKey" useToolbar="false" search="advancedFilter" showClearOnFB="true" clear="clearAllFilters">
                    <fb:filterItems>
                        <fb:FilterItem name="Employee" label="Employee">
                            <fb:control>
                                <Input placeholder="Enter Employee" value="{advancedFilterMdl>/employee}" />
                            </fb:control>
                        </fb:FilterItem>
                        <fb:FilterItem name="Request Date" label="Request Date">
                            <fb:control>
                                <DatePicker value="{advancedFilterMdl>/request_date}" displayFormat="dd-MM-yyyy" valueFormat="yyyy-MM-dd" />
                            </fb:control>
                        </fb:FilterItem>
                        <fb:FilterItem name="Request Type" label="Request Type">
                            <fb:control>
                                <ComboBox items="{masterdataMdl>/request_type}" placeholder="Select Type" selectedKey="{advancedFilterMdl>/request_type}">
                                    <core:Item key="{masterdataMdl>key}" text="{masterdataMdl>text}" />
                                </ComboBox>
                            </fb:control>
                        </fb:FilterItem>
                        <fb:FilterItem name="Request Name" label="Request Name">
                            <fb:control>
                                <Input placeholder="Enter Request Name" value="{advancedFilterMdl>/request_name}" />
                            </fb:control>
                        </fb:FilterItem>
                        <fb:FilterItem name="Required Date" label="Required Date">
                            <fb:control>
                                <DatePicker value="{advancedFilterMdl>/required_date}" displayFormat="dd-MM-yyyy" valueFormat="yyyy-MM-dd" />
                            </fb:control>
                        </fb:FilterItem>
                        <fb:FilterItem name="Status" label="Status">
                            <fb:control>
                                <ComboBox items="{masterdataMdl>/status}" placeholder="Please Select Status" selectedKey="{advancedFilterMdl>/status}">
                                    <core:Item key="{masterdataMdl>key}" text="{masterdataMdl>text}" />
                                </ComboBox>

                            </fb:control>
                        </fb:FilterItem>
                    </fb:filterItems>
                </fb:FilterBar>
            </f:DynamicPageHeader>
        </f:header>

        <f:content>
            <Panel>
                <OverflowToolbar>
                    <content>
                        <Label design="Bold" text="Items ({= ${manageLettersAndCertificatesMdl>/}.length})" />
                        <ToolbarSpacer />
                        <Button text="Create" press="onPressCreate" />
                        <ToolbarSeparator />
                        <Button icon="sap-icon://download" press="handleExport" tooltip="Download Excel" />
                        <ToolbarSeparator />
                        <OverflowToolbarButton type="Transparent" tooltip="Sort" icon="sap-icon://sort" press="handleSortButtonPressed"/>
                        <OverflowToolbarButton type="Transparent" tooltip="Group" icon="sap-icon://group-2" press="handleGroupButtonPressed"/>
                        <OverflowToolbarButton type="Transparent" icon="sap-icon://settings" tooltip="Settings" press="handlePersoButtonPressed" />
                      
                    </content>
                </OverflowToolbar>

                <ScrollContainer width="100%" vertical="true" focusable="true">
                    <Table id="tableTeamLettersAndCertificates" items="{manageLettersAndCertificatesMdl>/}" mode="None" sticky="ColumnHeaders,HeaderToolbar">
                        <columns>
                            <Column>
                                <Text text="Employee" />
                            </Column>
                            <Column>
                                <Text text="Request Date" />
                            </Column>
                            <Column>
                                <Text text="Request Type" />
                            </Column>
                            <Column>
                                <Text text="Request Name" />
                            </Column>
                            <Column>
                                <Text text="Required Date" />
                            </Column>
                            <Column>
                                <Text text="Status" />
                            </Column>
                        </columns>
                        <items>
                            <ColumnListItem>
                                <cells>
                                    <Text text="{manageLettersAndCertificatesMdl>employee}" />
                                    <Text text="{ path: 'manageLettersAndCertificatesMdl>request_date', formatter: '.formatter.formatDate' }" />
                                    <Text text="{parts: [ {path: 'manageLettersAndCertificatesMdl>request_type'}, {path: 'masterdataMdl>/request_type'}], formatter: '.formatter.formatRequestType'}" />
                                    <Text text="{manageLettersAndCertificatesMdl>request_name}" />
                                    <Text text="{ path: 'manageLettersAndCertificatesMdl>required_date', formatter: '.formatter.formatDate' }" />
                                    <ObjectStatus text="{ path: 'manageLettersAndCertificatesMdl>status', formatter: '.formatter.getStatusText' }" state="{ path: 'manageLettersAndCertificatesMdl>status', formatter: '.formatter.getStatusState' }" />

                                </cells>
                            </ColumnListItem>
                        </items>
                    </Table>
                </ScrollContainer>
            </Panel>
        </f:content>
    </f:DynamicPage>
</mvc:View>
